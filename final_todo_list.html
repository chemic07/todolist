<!DOCTYPE html>
<html>
  <head>
    <title>arrays and loops</title>
    <style>
      body {
        font-family: Arial;
      }
      .todo-grid,
      .todo-input-grid {
        display: grid;
        grid-template-columns: 200px 150px 100px;
        column-gap: 10px;
        row-gap: 10px;
      }
      .todo-input-grid {
        margin-top: 10px;
      }
    </style>
  </head>
  <body>
    <p class="title">Todo List</p>
    <div class="todo-input-grid">
      <input placeholder="Todo name" class="js-name-input" />
      <input type="date" class="js-duedate-input" />
      <button onclick="addTodo();">Create</button>
    </div>
    <p class="js-name-output"></p>

    <div class="js-todo-list todo-grid"></div>
    <script>
      const todoList = [
        {
          name: "watch movie",
          dueDate: "2022-12-23",
        },
        {
          name: "wash dishes",
          dueDate: "2022-12-24",
        },
      ];
      let todoListHTML = ""; // Define todoListHTML here

      renderTodoList();

      function renderTodoList() {
        todoListHTML = ""; // Reset todoListHTML before re-rendering

        for (let i = 0; i < todoList.length; i++) {
          const todoObject = todoList[i];
          const { name } = todoObject;
          //const name  = todoObject.name; shortcut for destructing
          // const dueDate = todoObject.dueDate; shortcut for destructing
          const { dueDate } = todoObject;

          //genrating html here
          // genrating delete button

          const html = `
              <div>${name}</div>
              <div>${dueDate}</div>
             <div><button onclick="todoList.splice(${i},1);
               ,<button onclick="todoList.splice(${i},1);
    renderTodoList()">delete</button>
    </div>`;
          todoListHTML += html;
        }

        document.querySelector(".js-todo-list").innerHTML = todoListHTML;
      }

      // function to add user input'n'show in the web

      function addTodo() {
        const inputElement = document.querySelector(".js-name-input");
        const name = inputElement.value;

        const dueDateElement = document.querySelector(".js-duedate-input");
        const dueDate = dueDateElement.value;

        todoList.push({ name, dueDate });

        inputElement.value = "";
        renderTodoList();
      }
    </script>
  </body>
</html>
